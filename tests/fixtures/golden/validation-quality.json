{
  "name": "validation-quality",
  "description": "Tests model quality detection for semantic issues. Tests Tier 4 canary assertions.",
  "brief": "Should we price the product at $99 or $149 to maximize revenue of $500,000?",
  "endpoint": "draft_graph",
  "recorded_response": {
    "graph": {
      "version": "1",
      "default_seed": 42,
      "nodes": [
        { "id": "decision_1", "kind": "decision", "label": "Should we price at $99 or $149?" },
        { "id": "opt_price_99", "kind": "option", "label": "Price at $99" },
        { "id": "opt_price_149", "kind": "option", "label": "Price at $149" },
        { "id": "opt_price_similar", "kind": "option", "label": "Price around $99" },
        { "id": "fac_volume", "kind": "factor", "label": "Sales Volume", "category": "controllable" },
        { "id": "fac_margin", "kind": "factor", "label": "Profit Margin", "category": "controllable" },
        { "id": "fac_market_positioning", "kind": "factor", "label": "Market Positioning", "category": "observable" },
        { "id": "outcome_revenue", "kind": "outcome", "label": "Total Revenue" },
        { "id": "goal_1", "kind": "goal", "label": "Maximize revenue to $500,000" }
      ],
      "edges": [
        { "from": "decision_1", "to": "opt_price_99", "strength_mean": 1, "strength_std": 0.01, "belief_exists": 1, "effect_direction": "positive" },
        { "from": "decision_1", "to": "opt_price_149", "strength_mean": 1, "strength_std": 0.01, "belief_exists": 1, "effect_direction": "positive" },
        { "from": "decision_1", "to": "opt_price_similar", "strength_mean": 1, "strength_std": 0.01, "belief_exists": 1, "effect_direction": "positive" },
        { "from": "opt_price_99", "to": "fac_volume", "strength_mean": 1, "strength_std": 0.01, "belief_exists": 1, "effect_direction": "positive" },
        { "from": "opt_price_149", "to": "fac_margin", "strength_mean": 1, "strength_std": 0.01, "belief_exists": 1, "effect_direction": "positive" },
        { "from": "opt_price_similar", "to": "fac_volume", "strength_mean": 1, "strength_std": 0.01, "belief_exists": 1, "effect_direction": "positive" },
        { "from": "fac_volume", "to": "outcome_revenue", "strength_mean": 0.7, "strength_std": 0.15, "belief_exists": 0.9, "effect_direction": "positive" },
        { "from": "fac_margin", "to": "outcome_revenue", "strength_mean": 0.8, "strength_std": 0.12, "belief_exists": 0.85, "effect_direction": "positive" },
        { "from": "fac_market_positioning", "to": "outcome_revenue", "strength_mean": 0.3, "strength_std": 0.2, "belief_exists": 0.7, "effect_direction": "positive" },
        { "from": "outcome_revenue", "to": "goal_1", "strength_mean": 0.95, "strength_std": 0.08, "belief_exists": 1, "effect_direction": "positive" }
      ],
      "meta": { "roots": [], "leaves": [], "suggested_positions": {}, "source": "assistant" }
    },
    "validation": {
      "passed": true,
      "errors": [],
      "warnings": [
        {
          "code": "OPTIONS_IDENTICAL",
          "severity": "warning",
          "message": "Options 'opt_price_99' and 'opt_price_similar' have identical or near-identical interventions",
          "path": "nodes",
          "context": {
            "option_1": "opt_price_99",
            "option_2": "opt_price_similar",
            "shared_targets": ["fac_volume"]
          }
        }
      ]
    },
    "quality_metrics": {
      "model_quality_band": "medium",
      "has_same_lever_options": true,
      "has_goal_number_as_factor": false,
      "option_distinctiveness_score": 0.67,
      "factor_coverage_score": 0.85
    }
  },
  "assertions": {
    "has_decision_node": true,
    "has_goal_node": true,
    "option_count_gte": 2,
    "validation_passes": true,
    "validation_has_warning_codes": ["OPTIONS_IDENTICAL"],
    "quality_band_in": ["low", "medium"],
    "has_same_lever_options": true,
    "goal_contains_currency": true
  }
}
